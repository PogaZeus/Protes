<Window x:Class="Protes.Views.ExternalRequirementsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="External Database Requirements"
        Height="500"
        Width="520"
        WindowStartupLocation="CenterOwner"
        FontFamily="Segoe UI"
        ResizeMode="CanResizeWithGrip">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Intro -->
            <RowDefinition Height="Auto"/>
            <!-- Privileges -->
            <RowDefinition Height="Auto"/>
            <!-- Table name label -->
            <RowDefinition Height="Auto"/>
            <!-- Table name value -->
            <RowDefinition Height="Auto"/>
            <!-- Columns label -->
            <RowDefinition Height="*"/>
            <!-- Column list -->
            <RowDefinition Height="Auto"/>
            <!-- SQL GroupBox -->
            <RowDefinition Height="Auto"/>
            <!-- Footer note -->
        </Grid.RowDefinitions>

        <!-- Intro -->
        <TextBlock Text="Protes will automatically create the required 'Notes' table if it doesn't exist — but your MySQL user must have these privileges:"
                   TextWrapping="Wrap"
                   Margin="0,0,0,10"/>

        <!-- Required Privileges -->
        <StackPanel Grid.Row="1" Margin="0,0,0,10">
            <TextBlock Text="✅ Required MySQL Privileges:" FontWeight="Bold"/>
            <TextBlock Text="• CREATE (to create the 'Notes' table on first connection)" Margin="15,2,0,0"/>
            <TextBlock Text="• SELECT, INSERT, UPDATE, DELETE (for normal note operations)" Margin="15,2,0,0"/>
            <TextBlock Text="• DROP (only needed if you later remove the database password)" Margin="15,2,0,0"/>
        </StackPanel>

        <!-- Table Name Label -->
        <TextBlock Text="The table must be named:" FontWeight="Bold" Grid.Row="2"/>

        <!-- Table Name Value -->
        <TextBlock Text="→ Notes"
                   Foreground="Red"
                   FontWeight="Bold"
                   Margin="10,5,0,10"
                   Grid.Row="3"/>

        <!-- Column Header -->
        <TextBlock Text="With the following columns:"
                   FontWeight="Bold"
                   Grid.Row="4"/>

        <!-- Column List -->
        <StackPanel Grid.Row="5" Margin="0,5,0,10">
            <TextBlock Text="• Id (BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY)" Margin="0,2"/>
            <TextBlock Text="• Title (TEXT NOT NULL)" Margin="0,2"/>
            <TextBlock Text="• Content (LONGTEXT)" Margin="0,2"/>
            <TextBlock Text="• Tags (TEXT)" Margin="0,2"/>
            <TextBlock Text="• LastModified (DATETIME)" Margin="0,2"/>
        </StackPanel>

        <!-- SQL Box -->
        <GroupBox Header="MySQL: Create Table SQL (Manual Setup)" Grid.Row="6" Margin="0,5,0,5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <TextBox x:Name="CreateTableSqlBox"
                         Text="CREATE TABLE Notes (&#x0a;    Id BIGINT NOT NULL AUTO_INCREMENT,&#x0a;    Title TEXT NOT NULL,&#x0a;    Content LONGTEXT,&#x0a;    Tags TEXT,&#x0a;    LastModified DATETIME,&#x0a;    PRIMARY KEY (Id)&#x0a;) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;"
                         FontFamily="Consolas"
                         FontSize="12"
                         IsReadOnly="True"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         HorizontalScrollBarVisibility="Auto"
                         TextWrapping="NoWrap"
                         Margin="0,5,0,5"/>
                <Button Grid.Row="1"
                        Content="Copy SQL"
                        Width="80"
                        HorizontalAlignment="Left"
                        Margin="0,5"
                        Click="CopySqlButton_Click"
                        Padding="12,5"/>
            </Grid>
        </GroupBox>

        <!-- Footer Note -->
        <TextBlock Grid.Row="7"
                   Text="💡 If Protes fails to auto-create the table (e.g. due to missing privileges), run the SQL above manually in your database."
                   FontStyle="Italic"
                   Foreground="Gray"
                   TextWrapping="Wrap"
                   Margin="0,10,0,0"/>
    </Grid>
</Window>